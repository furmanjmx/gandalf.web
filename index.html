<!DOCTYPE html><html ng-app="app"><head lang="en"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Gandalf. We protect you from yo urselves</title><link rel="stylesheet" href="/gandalf.web/css/app.css"></head><body class="container app"><div class="row"><div ng-controller="MainController" class="col col-md-12"><div ng-if="table" class="decision-table ng-cloak"><table class="table"><thead><tr><th>#</th><th ng-repeat="condition in table.fields">{{condition.title}}</th><th class="border-left decision-table__result-column decision-table__add-column">Result<a ng-click="addNewField()" class="decision-table__add-column__icon">+</a></th><th>Action</th></tr></thead><tfoot class="table-footer"><tr><td colspan="{{table.fields.length + 3}}"><div class="pull-right"><button ng-click="save()" class="btn btn-default">Save</button></div></td></tr></tfoot><tbody ui-sortable="sortableOptions" ng-model="table.rules"><tr ng-repeat="rule in table.rules"><td class="decision-table__handler"><i class="glyphicon glyphicon-menu-hamburger"></i></td><td ng-repeat="condition in rule.conditions"><div ng-if="!rule.isEditing" class="form-control-static"><span ng-switch="condition.condition"><span ng-switch-when="$eq">=</span><span ng-switch-when="$gt">&#62;</span><span ng-switch-when="$gte">&#62;=</span><span ng-switch-when="$lt">&#60;</span><span ng-switch-when="$lte">&#60;=</span><span ng-switch-when="$ne">!=</span></span>&nbsp;<span>{{condition.value.toString()}}</span></div><div ng-if="rule.isEditing"><div ng-switch="table.fields[$index].type"><div ng-switch-when="number" class="input-group"><div class="input-group-addon"><select ng-model="condition.condition"><option value="$eq">=</option><option value="$gt">&#62;</option><option value="$gte">&#62;=</option><option value="$lt">&#60;</option><option value="$lte">&#60;=</option><option value="$neq">!=</option><option value="$in">in</option><option value="$nin">not in</option></select></div><input ng-model="condition.value" class="form-control"></div><div ng-switch-when="bool" class="form-control-static"><div class="checkbox"><input type="checkbox" ng-model="condition.value"></div></div><div ng-switch-when="string" class="input-group"><div class="input-group-addon"><select ng-model="condition.condition"><option value="$eq">=</option><option value="$neq">!=</option><option value="$in">in</option><option value="$nin">not in</option><option value="$contains">contains</option></select></div><input ng-model="condition.value" class="form-control"></div><div ng-switch-default class="input-group"><div class="input-group-addon"><select ng-model="condition.condition" disabled="true"><option value="$eq">=</option></select></div><input ng-model="condition.value" class="form-control"></div></div></div></td><td class="border-left"><div ng-if="!rule.isEditing" class="form-control-static">{{rule.result}}</div><div ng-if="rule.isEditing"><select ng-model="rule.result" class="form-control"><option value="approve">approve</option><option value="decline">decline</option><option value="manual">manual</option></select></div></td><td class="decision-table__description-wrap"><div class="decision-table__actions form-control-static"><a ng-click="rule.save()" ng-if="rule.isEditing" class="btn btn-default"><i class="glyphicon glyphicon-ok"></i></a><a ng-click="rule.edit()" ng-if="!rule.isEditing" class="btn btn-default"><i class="glyphicon glyphicon-pencil"></i></a><a ng-click="table.deleteRule(rule)" class="btn btn-default"><i class="glyphicon glyphicon-remove"></i></a><div class="decision-table__description">{{rule.description}}</div></div></td></tr></tbody><tbody class="decision-table__add-row"><tr><td colspan="{{table.fields.length + 3}}"><a ng-click="addNewRule()">Add new row</a></td></tr></tbody></table></div></div></div><script src="/gandalf.web/js/app.min.js"></script></body></html>